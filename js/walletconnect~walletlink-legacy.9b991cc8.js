(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["walletconnect~walletlink"],{"0b16":function(e,t,r){"use strict";var n=r("1985"),o=r("35e8");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=_,t.resolve=R,t.resolveObject=E,t.format=k,t.Url=s;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(u),h=["'"].concat(l),p=["%","/","?",";","#"].concat(h),d=["/","?","#"],f=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=r("b383");function _(e,t,r){if(e&&o.isObject(e)&&e instanceof s)return e;var n=new s;return n.parse(e,t,r),n}function k(e){return o.isString(e)&&(e=_(e)),e instanceof s?e.format():s.prototype.format.call(e)}function R(e,t){return _(e,!1,!0).resolve(t)}function E(e,t){return e?_(e,!1,!0).resolveObject(t):t}s.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",u=e.split(a),l=/\\/g;u[0]=u[0].replace(l,"/"),e=u.join(a);var _=e;if(_=_.trim(),!r&&1===e.split("#").length){var k=c.exec(_);if(k)return this.path=_,this.href=_,this.pathname=k[1],k[2]?(this.search=k[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var R=i.exec(_);if(R){R=R[0];var E=R.toLowerCase();this.protocol=E,_=_.substr(R.length)}if(r||R||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var B="//"===_.substr(0,2);!B||R&&v[R]||(_=_.substr(2),this.slashes=!0)}if(!v[R]&&(B||R&&!b[R])){for(var x,C,j=-1,O=0;O<d.length;O++){var P=_.indexOf(d[O]);-1!==P&&(-1===j||P<j)&&(j=P)}C=-1===j?_.lastIndexOf("@"):_.lastIndexOf("@",j),-1!==C&&(x=_.slice(0,C),_=_.slice(C+1),this.auth=decodeURIComponent(x)),j=-1;for(O=0;O<p.length;O++){P=_.indexOf(p[O]);-1!==P&&(-1===j||P<j)&&(j=P)}-1===j&&(j=_.length),this.host=_.slice(0,j),_=_.slice(j),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),S=(O=0,I.length);O<S;O++){var L=I[O];if(L&&!L.match(m)){for(var N="",T=0,M=L.length;T<M;T++)L.charCodeAt(T)>127?N+="x":N+=L[T];if(!N.match(m)){var F=I.slice(0,O),q=I.slice(O+1),H=L.match(y);H&&(F.push(H[1]),q.unshift(H[2])),q.length&&(_="/"+q.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",J=this.hostname||"";this.host=J+U,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[E])for(O=0,S=h.length;O<S;O++){var z=h[O];if(-1!==_.indexOf(z)){var D=encodeURIComponent(z);D===z&&(D=escape(z)),_=_.split(z).join(D)}}var $=_.indexOf("#");-1!==$&&(this.hash=_.substr($),_=_.slice(0,$));var V=_.indexOf("?");if(-1!==V?(this.search=_.substr(V),this.query=_.substr(V+1),t&&(this.query=w.parse(this.query)),_=_.slice(0,V)):t&&(this.search="",this.query={}),_&&(this.pathname=_),b[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var G=this.search||"";this.path=U+G}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,i="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=w.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),a=a.replace("#","%23"),t+s+r+a+n},s.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(o.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var r=new s,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(r[l]=e[l])}return b[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!b[e.protocol]){for(var h=Object.keys(e),p=0;p<h.length;p++){var d=h[p];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{var f=(e.pathname||"").split("/");while(f.length&&!(e.host=f.shift()));e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||g||r.host&&e.pathname,k=_,R=r.pathname&&r.pathname.split("/")||[],E=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!b[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===R[0]?R[0]=r.host:R.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),_=_&&(""===f[0]||""===R[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,R=f;else if(f.length)R||(R=[]),R.pop(),R=R.concat(f),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(E){r.hostname=r.host=R.shift();var B=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");B&&(r.auth=B.shift(),r.host=r.hostname=B.shift())}return r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!R.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=R.slice(-1)[0],C=(r.host||e.host||R.length>1)&&("."===x||".."===x)||""===x,j=0,O=R.length;O>=0;O--)x=R[O],"."===x?R.splice(O,1):".."===x?(R.splice(O,1),j++):j&&(R.splice(O,1),j--);if(!_&&!k)for(;j--;j)R.unshift("..");!_||""===R[0]||R[0]&&"/"===R[0].charAt(0)||R.unshift(""),C&&"/"!==R.join("/").substr(-1)&&R.push("");var P=""===R[0]||R[0]&&"/"===R[0].charAt(0);if(E){r.hostname=r.host=P?"":R.length?R.shift():"";B=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");B&&(r.auth=B.shift(),r.host=r.hostname=B.shift())}return _=_||r.host&&R.length,_&&!P&&R.unshift(""),R.length?r.pathname=R.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"12fd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},"163d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("faa1");function o(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function s(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}class i extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const i=n[e];if(void 0===i)return!1;if("function"===typeof i)o(i,this,t);else{const e=i.length,r=s(i);for(let n=0;n<e;n+=1)o(r[n],this,t)}return!0}}t.default=i},"16a1":function(e,t,r){const n=r("417a"),o=r("87db"),s=r("f0f8"),{bnToHex:i,hexToInt:a,incrementHexInt:c,minBlockRef:u,blockRefIsNumber:l}=r("509d");class h extends s{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(e=>e.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=u(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),o=await this._fetchLogs(n);this.addInitialResults(o)}async update({oldBlock:e,newBlock:t}){const r=t;let n;n=e?c(e):t;const o=Object.assign({},this.params,{fromBlock:n,toBlock:r}),s=await this._fetchLogs(o),i=s.filter(e=>this.matchLog(e));this.addResults(i)}async _fetchLogs(e){const t=await o(t=>this.ethQuery.getLogs(e,t))();return t}matchLog(e){if(a(this.params.fromBlock)>=a(e.blockNumber))return!1;if(l(this.params.toBlock)&&a(this.params.toBlock)<=a(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;const r=this.params.topics.every((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let o=Array.isArray(t)?t:[t];const s=o.includes(null);if(s)return!0;o=o.map(e=>e.toLowerCase());const i=o.includes(n);return i});return r}}e.exports=h},"2cf29":function(e,t,r){"use strict";function n(e){return async(t,r,n,o)=>{let s;const i=new Promise(e=>{s=e});let a=null,c=!1;const u=async()=>{c=!0,n(e=>{a=e,s()}),await i};try{await e(t,r,u),c?(await i,a(null)):o(null)}catch(l){a?a(l):o(l)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=n},"312e":function(e,t){e.exports=function(e){return(t,r,n,o)=>{const s=e[t.method];return void 0===s?n():"function"===typeof s?s(t,r,n,o):(r.result=s,o())}}},"35e8":function(e,t,r){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},"375a":function(e,t){e.exports=o,o.default=o,o.stable=a,o.stableStringify=a;var r=[],n=[];function o(e,t,o){var i;s(e,"",[],void 0),i=0===n.length?JSON.stringify(e,t,o):JSON.stringify(e,u(t),o);while(0!==r.length){var a=r.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return i}function s(e,t,o,i){var a;if("object"===typeof e&&null!==e){for(a=0;a<o.length;a++)if(o[a]===e){var c=Object.getOwnPropertyDescriptor(i,t);return void(void 0!==c.get?c.configurable?(Object.defineProperty(i,t,{value:"[Circular]"}),r.push([i,t,e,c])):n.push([e,t]):(i[t]="[Circular]",r.push([i,t,e])))}if(o.push(e),Array.isArray(e))for(a=0;a<e.length;a++)s(e[a],a,o,e);else{var u=Object.keys(e);for(a=0;a<u.length;a++){var l=u[a];s(e[l],l,o,e)}}o.pop()}}function i(e,t){return e<t?-1:e>t?1:0}function a(e,t,o){var s,i=c(e,"",[],void 0)||e;s=0===n.length?JSON.stringify(i,t,o):JSON.stringify(i,u(t),o);while(0!==r.length){var a=r.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return s}function c(e,t,o,s){var a;if("object"===typeof e&&null!==e){for(a=0;a<o.length;a++)if(o[a]===e){var u=Object.getOwnPropertyDescriptor(s,t);return void(void 0!==u.get?u.configurable?(Object.defineProperty(s,t,{value:"[Circular]"}),r.push([s,t,e,u])):n.push([e,t]):(s[t]="[Circular]",r.push([s,t,e])))}if("function"===typeof e.toJSON)return;if(o.push(e),Array.isArray(e))for(a=0;a<e.length;a++)c(e[a],a,o,e);else{var l={},h=Object.keys(e).sort(i);for(a=0;a<h.length;a++){var p=h[a];c(e[p],p,o,e),l[p]=e[p]}if(void 0===s)return l;r.push([s,t,e]),s[t]=l}o.pop()}}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var o=0;o<n.length;o++){var s=n[o];if(s[1]===t&&s[0]===r){r="[Circular]",n.splice(o,1);break}}return e.call(this,t,r)}}},"417a":function(e,t,r){const n=r("53a8"),o=r("d89d")();function s(e){const t=this;t.currentProvider=e}function i(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function a(e,t){return function(){const r=this;var n=[].slice.call(arguments),o=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},o)}}function c(e){return n({id:o(),jsonrpc:"2.0",params:[]},e)}e.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=i("eth_protocolVersion"),s.prototype.syncing=i("eth_syncing"),s.prototype.coinbase=i("eth_coinbase"),s.prototype.mining=i("eth_mining"),s.prototype.hashrate=i("eth_hashrate"),s.prototype.gasPrice=i("eth_gasPrice"),s.prototype.accounts=i("eth_accounts"),s.prototype.blockNumber=i("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=i("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=i("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=i("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=i("eth_getUncleCountByBlockNumber"),s.prototype.sign=i("eth_sign"),s.prototype.sendTransaction=i("eth_sendTransaction"),s.prototype.sendRawTransaction=i("eth_sendRawTransaction"),s.prototype.estimateGas=i("eth_estimateGas"),s.prototype.getBlockByHash=i("eth_getBlockByHash"),s.prototype.getBlockByNumber=i("eth_getBlockByNumber"),s.prototype.getTransactionByHash=i("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=i("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=i("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=i("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=i("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=i("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=i("eth_getCompilers"),s.prototype.compileLLL=i("eth_compileLLL"),s.prototype.compileSolidity=i("eth_compileSolidity"),s.prototype.compileSerpent=i("eth_compileSerpent"),s.prototype.newFilter=i("eth_newFilter"),s.prototype.newBlockFilter=i("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=i("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=i("eth_uninstallFilter"),s.prototype.getFilterChanges=i("eth_getFilterChanges"),s.prototype.getFilterLogs=i("eth_getFilterLogs"),s.prototype.getLogs=i("eth_getLogs"),s.prototype.getWork=i("eth_getWork"),s.prototype.submitWork=i("eth_submitWork"),s.prototype.submitHashrate=i("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){const r=this;r.currentProvider.sendAsync(c(e),(function(e,r){if(!e&&r.error&&(e=new Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)}))}},4615:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const n=4294967295;let o=Math.floor(Math.random()*n);function s(){return o=(o+1)%n,o}t.getUniqueId=s},"4f68":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r("c885");Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const o=r("e5e0");Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return o.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return o.getMessageFromCode}});const s=r("cc79");Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return s.ethErrors}});const i=r("12fd");Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})},"509d":function(e,t){function r(...e){const t=o(e);return t[0]}function n(...e){const t=o(e);return t[t.length-1]}function o(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:a(e)-a(t))}function s(e){return"0x"+e.toString(16)}function i(e){return e&&!["earliest","latest","pending"].includes(e)}function a(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function c(e){if(void 0===e||null===e)return e;const t=a(e);return u(t+1)}function u(e){if(void 0===e||null===e)return e;let t=e.toString(16);const r=t.length%2;return r&&(t="0"+t),"0x"+t}function l(e){let t="0x";for(let r=0;r<e;r++)t+=h(),t+=h();return t}function h(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:r,maxBlockRef:n,sortBlockRefs:o,bnToHex:s,blockRefIsNumber:i,hexToInt:a,incrementHexInt:c,intToHex:u,unsafeRandomBytes:l}},"53a8":function(e,t){e.exports=n;var r=Object.prototype.hasOwnProperty;function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e}},"579c":function(e,t,r){const n=r("e026"),o=r("feef"),s=1e3;class i extends o{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||20*s,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){while(this._isRunning)try{await this._updateLatestBlock(),await a(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n"+e.stack);try{this.emit("error",r)}catch(t){console.error(r)}await a(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await n(t=>this._provider.sendAsync(e,t))();if(t.error)throw new Error("PollingBlockTracker - encountered error fetching block:\n"+t.error);return t.result}}function a(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}e.exports=i},"5d6e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r("4615");function o(){return(e,t,r,o)=>{const s=e.id,i=n.getUniqueId();e.id=i,t.id=i,r(r=>{e.id=s,t.id=s,r()})}}t.createIdRemapMiddleware=o},"5fe7":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const o=n(r("163d")),s=r("4f68");class i extends o.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[o,s,a]=await i._runAllMiddleware(e,t,this._middleware);return s?(await i._runReturnHandlers(a),n(o)):r(async e=>{try{await i._runReturnHandlers(a)}catch(t){return e(t)}return e()})}catch(o){return n(o)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(r){if(t)return t(r);throw r}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!==typeof e){const r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!==typeof e.method){const r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,n)}catch(i){o=i}return o&&(delete n.result,n.error||(n.error=s.serializeError(o))),t(o,n)}async _processRequest(e,t){const[r,n,o]=await i._runAllMiddleware(e,t,this._middleware);if(i._checkForCompletion(e,t,n),await i._runReturnHandlers(o),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let o=null,s=!1;for(const a of r)if([o,s]=await i._runMiddleware(e,t,a,n),s)break;return[o,s,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(o=>{const i=e=>{const r=e||t.error;r&&(t.error=s.serializeError(r)),o([r,!0])},c=r=>{t.error?i(t.error):(r&&("function"!==typeof r&&i(new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${a(e)}`,{request:e})),n.push(r)),o([null,!1]))};try{r(e,t,c,i)}catch(u){i(u)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new s.EthereumRpcError(s.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n"+a(e),{request:e});if(!r)throw new s.EthereumRpcError(s.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n"+a(e),{request:e})}}function a(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=i},8720:function(e,t,r){const n=r("cef4"),o=r("d109"),{incrementHexInt:s}=r("509d");class i extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=s(e),n=await o({provider:this.provider,fromBlock:r,toBlock:t}),i=[];for(const o of n)i.push(...o.transactions);this.addResults(i)}}e.exports=i},"87db":function(e,t,r){"use strict";const n=(e,t,r,n)=>function(...o){const s=t.promiseModule;return new s((s,i)=>{t.multiArgs?o.push((...e)=>{t.errorFirst?e[0]?i(e):(e.shift(),s(e)):s(e)}):t.errorFirst?o.push((e,t)=>{e?i(e):s(t)}):o.push(s);const a=this===r?n:this;Reflect.apply(e,a,o)})},o=new WeakMap;e.exports=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(null===e||"object"!==r&&"function"!==r)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);const s=(e,r)=>{let n=o.get(e);if(n||(n={},o.set(e,n)),r in n)return n[r];const s=e=>"string"===typeof e||"symbol"===typeof r?r===e:e.test(r),i=Reflect.getOwnPropertyDescriptor(e,r),a=void 0===i||i.writable||i.configurable,c=t.include?t.include.some(s):!t.exclude.some(s),u=c&&a;return n[r]=u,u},i=new WeakMap,a=new Proxy(e,{apply(e,r,o){const s=i.get(e);if(s)return Reflect.apply(s,r,o);const c=t.excludeMain?e:n(e,t,a,e);return i.set(e,c),Reflect.apply(c,r,o)},get(e,r){const o=e[r];if(!s(e,r)||o===Function.prototype[r])return o;const c=i.get(o);if(c)return c;if("function"===typeof o){const r=n(o,t,a,e);return i.set(o,r),r}return o}});return a}},"91dd":function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,s){t=t||"&",r=r||"=";var i={};if("string"!==typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var c=1e3;s&&"number"===typeof s.maxKeys&&(c=s.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var h,p,d,f,m=e[l].replace(a,"%20"),y=m.indexOf(r);y>=0?(h=m.substr(0,y),p=m.substr(y+1)):(h=m,p=""),d=decodeURIComponent(h),f=decodeURIComponent(p),n(i,d)?o(i[d])?i[d].push(f):i[d]=[i[d],f]:i[d]=f}return i};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},9654:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r("5d6e"),t),o(r("2cf29"),t),o(r("be19"),t),o(r("4615"),t),o(r("5fe7"),t),o(r("d538"),t)},abaf:function(e,t,r){"use strict";r.r(t),r.d(t,"Mutex",(function(){return c})),r.d(t,"Semaphore",(function(){return i})),r.d(t,"withTimeout",(function(){return u}));function n(e,t,r,n){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function i(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n["throw"](e))}catch(t){s(t)}}function c(e){e.done?r(e.value):o(e.value).then(i,a)}c((n=n.apply(e,t||[])).next())}))}function o(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(r)throw new TypeError("Generator is already executing.");while(i)try{if(r=1,n&&(o=2&s[0]?n["return"]:s[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(a){s=[6,a],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;Object.create;var s=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise((function(t){return e._queue.push(t)}));return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return n(this,void 0,void 0,(function(){var t,r,n;return o(this,(function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:t=o.sent(),r=t[0],n=t[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,o.sent()];case 4:return n(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}(),i=s,a=function(){function e(){this._semaphore=new i(1)}return e.prototype.acquire=function(){return n(this,void 0,void 0,(function(){var e,t;return o(this,(function(r){switch(r.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=r.sent(),t=e[1],[2,t]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}(),c=a;function u(e,t,r){var s=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(i,a){return n(s,void 0,void 0,(function(){var n,s,c;return o(this,(function(o){switch(o.label){case 0:return n=!1,setTimeout((function(){n=!0,a(r)}),t),[4,e.acquire()];case 1:return s=o.sent(),n?(c=Array.isArray(s)?s[1]:s,c()):i(s),[2]}}))}))}))},runExclusive:function(e){return n(this,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}},ad6e:function(e,t,r){const n=r("cef4"),o=r("d109"),{incrementHexInt:s}=r("509d");class i extends n{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=s(e),i=await o({provider:this.provider,fromBlock:n,toBlock:r}),a=i.map(e=>e.hash);this.addResults(a)}}e.exports=i},b383:function(e,t,r){"use strict";t.decode=t.parse=r("91dd"),t.encode=t.stringify=r("e099")},b7b4:function(e,t,r){const n=r("163d").default,o=r("fd46"),{createAsyncMiddleware:s}=r("9654"),i=r("da78"),{unsafeRandomBytes:a,incrementHexInt:c}=r("509d"),u=r("d109");function l({blockTracker:e,provider:t}){const r={},l=i({blockTracker:e,provider:t});let p=!1;const d=new n,f=o({eth_subscribe:s(m),eth_unsubscribe:s(y)});return f.destroy=v,{events:d,middleware:f};async function m(n,o){if(p)throw new Error("SubscriptionManager - attempting to use after destroying");const s=n.params[0],i=a(16);let d;switch(s){case"newHeads":d=f({subId:i});break;case"logs":const e=n.params[1],t=await l.newLogFilter(e);d=m({subId:i,filter:t});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${s}"`)}return r[i]=d,void(o.result=i);function f({subId:r}){const n={type:s,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{const o=n,s=c(e),i=await u({provider:t,fromBlock:s,toBlock:o}),a=i.map(h);a.forEach(e=>{g(r,e)})}};return e.on("sync",n.update),n}function m({subId:e,filter:t}){t.on("update",t=>g(e,t));const r={type:s,destroy:async()=>await l.uninstallFilter(t.idHex)};return r}}async function y(e,t){if(p)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],o=r[n];o?(delete r[n],await o.destroy(),t.result=!0):t.result=!1}function g(e,t){d.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}function v(){d.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];p=!0}}function h(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=l},be19:function(e,t,r){"use strict";function n(e){return(t,r,n,o)=>{const s=e[t.method];return void 0===s?n():"function"===typeof s?s(t,r,n,o):(r.result=s,o())}}Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=n},c885:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r("375a");class o extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),a,2)}}t.EthereumRpcError=o;class s extends o{constructor(e,t,r){if(!i(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function i(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function a(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=s},cb69:function(e,t,r){const n=r("eed9"),o=r("faa1");var s="object"===typeof Reflect?Reflect:null,i=s&&"function"===typeof s.apply?s.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function a(){o.call(this)}function c(e,t,r){try{i(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function u(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}e.exports=a,n.inherits(a,o),a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var i=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw i.context=s,i}var a=o[e];if(void 0===a)return!1;if("function"===typeof a)c(a,this,t);else{var l=a.length,h=u(a,l);for(r=0;r<l;++r)c(h[r],this,t)}return!0}},cc79:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r("c885"),o=r("e5e0"),s=r("12fd");function i(e,t){const[r,s]=c(t);return new n.EthereumRpcError(e,r||o.getMessageFromCode(e),s)}function a(e,t){const[r,s]=c(t);return new n.EthereumProviderError(e,r||o.getMessageFromCode(e),s)}function c(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!==typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>i(s.errorCodes.rpc.parse,e),invalidRequest:e=>i(s.errorCodes.rpc.invalidRequest,e),invalidParams:e=>i(s.errorCodes.rpc.invalidParams,e),methodNotFound:e=>i(s.errorCodes.rpc.methodNotFound,e),internal:e=>i(s.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return i(t,e)},invalidInput:e=>i(s.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>i(s.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>i(s.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>i(s.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>i(s.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>i(s.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(s.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(s.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(s.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(s.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(s.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:o}=e;if(!r||"string"!==typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,o)}}}},cef4:function(e,t,r){const n=r("163d").default;class o extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}e.exports=o},d109:function(e,t){async function r({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const i=n(t),a=n(r),c=a-i+1,u=Array(c).fill().map((e,t)=>i+t).map(o),l=await Promise.all(u.map(t=>s(e,"eth_getBlockByNumber",[t,!1])));return l}function n(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function o(e){if(void 0===e||null===e)return e;const t=e.toString(16);return"0x"+t}function s(e,t,r){return new Promise((n,o)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:r},(e,t)=>{if(e)return o(e);n(t.result)})})}e.exports=r},d538:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r("5fe7");function o(e){const t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}t.mergeMiddleware=o},d89d:function(e,t){function r(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r="undefined"!==typeof e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}e.exports=r},da78:function(e,t,r){const n=r("abaf").Mutex,{createAsyncMiddleware:o}=r("9654"),s=r("fd46"),i=r("16a1"),a=r("ad6e"),c=r("8720"),{intToHex:u,hexToInt:l}=r("509d");function h({blockTracker:e,provider:t}){let r=0,o={};const h=new n,y=f({mutex:h}),g=s({eth_newFilter:y(p(b)),eth_newBlockFilter:y(p(w)),eth_newPendingTransactionFilter:y(p(_)),eth_uninstallFilter:y(d(E)),eth_getFilterChanges:y(d(k)),eth_getFilterLogs:y(d(R))}),v=async({oldBlock:e,newBlock:t})=>{if(0===o.length)return;const r=await h.acquire();try{await Promise.all(m(o).map(async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(n){console.error(n)}}))}catch(n){console.error(n)}r()};return g.newLogFilter=b,g.newBlockFilter=w,g.newPendingTransactionFilter=_,g.uninstallFilter=E,g.getFilterChanges=k,g.getFilterLogs=R,g.destroy=()=>{C()},g;async function b(e){const r=new i({provider:t,params:e});await B(r);return r}async function w(){const e=new a({provider:t});await B(e);return e}async function _(){const e=new c({provider:t});await B(e);return e}async function k(e){const t=l(e),r=o[t];if(!r)throw new Error(`No filter for index "${t}"`);const n=r.getChangesAndClear();return n}async function R(e){const t=l(e),r=o[t];if(!r)throw new Error(`No filter for index "${t}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function E(e){const t=l(e),r=o[t],n=Boolean(r);return n&&await x(t),n}async function B(t){const n=m(o).length,s=await e.getLatestBlock();await t.initialize({currentBlock:s}),r++,o[r]=t,t.id=r,t.idHex=u(r);const i=m(o).length;return j({prevFilterCount:n,newFilterCount:i}),r}async function x(e){const t=m(o).length;delete o[e];const r=m(o).length;j({prevFilterCount:t,newFilterCount:r})}async function C(){const e=m(o).length;o={},j({prevFilterCount:e,newFilterCount:0})}function j({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",v):t>0&&0===r&&e.removeListener("sync",v)}}function p(e){return d(async(...t)=>{const r=await e(...t),n=u(r.id);return n})}function d(e){return o(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function f({mutex:e}){return t=>async(r,n,o,s)=>{const i=await e.acquire();i(),t(r,n,o,s)}}function m(e,t){const r=[];for(let n in e)r.push(e[n]);return r}e.exports=h},e026:function(e,t,r){"use strict";const n=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r((r,o)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),o(t)):r(t)}else e?o(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)})};e.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"===typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let o;o="function"===typeof e?function(){return t.excludeMain?e.apply(this,arguments):n(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const s in e){const i=e[s];o[s]="function"===typeof i&&r(s)?n(i,t):i}return o}},e099:function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?s(i(e),(function(i){var a=encodeURIComponent(n(i))+r;return o(e[i])?s(e[i],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[i]))})).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},e5e0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r("12fd"),o=r("c885"),s=n.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",a={code:s,message:c(s)};function c(e,r=i){if(Number.isInteger(e)){const r=e.toString();if(d(n.errorValues,r))return n.errorValues[r].message;if(h(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!h(e)}function l(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,s;if(!t||!Number.isInteger(t.code)||"string"!==typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof o.EthereumRpcError)return e.serialize();const i={};if(e&&"object"===typeof e&&!Array.isArray(e)&&d(e,"code")&&u(e.code)){const t=e;i.code=t.code,t.message&&"string"===typeof t.message?(i.message=t.message,d(t,"data")&&(i.data=t.data)):(i.message=c(i.code),i.data={originalError:p(e)})}else{i.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;i.message=r&&"string"===typeof r?r:t.message,i.data={originalError:p(e)}}const l=null===(s=e)||void 0===s?void 0:s.stack;return r&&e&&l&&"string"===typeof l&&(i.stack=l),i}function h(e){return e>=-32099&&e<=-32e3}function p(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=c,t.isValidCode=u,t.serializeError=l},f0f8:function(e,t,r){const n=r("cef4");class o extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}e.exports=o},fd46:function(e,t,r){e.exports=r("312e")},feef:function(e,t,r){r("417a"),r("e026");const n=r("cb69"),o=1e3,s=(e,t)=>e+t,i=["sync","latest"];class a extends n{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*o,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;const e=await new Promise(e=>this.once("latest",e));return e}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){i.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return i.map(e=>this.listenerCount(e)).reduce(s)}_newPotentialLatest(e){const t=this._currentBlock;t&&c(e)<=c(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}function c(e){return Number.parseInt(e,16)}e.exports=a}}]);
//# sourceMappingURL=walletconnect~walletlink-legacy.9b991cc8.js.map